(function(){!function(n){var t,r,e,i,s,u,o;return s=function(n){return"[object Array]"===toString.call(n)},u=function(n){return 0/0!==parseInt(n,10)},i=function(n){var t,r,e;for(t=void 0,r=void 0,e=void 0,r=1;r<arguments_.length;){t=arguments_[r];for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);r++}return n},o={ad:"ad",duration:"duration",index:"index",id:"id",name:"name",publisher:"publisher",show:"show",url:"url"},r={video:{shortform:{premium:"vc11",ugc:"vc21"},longform:{premium:"vc12",ugc:"vc22"},live:{premium:"vc13",ugc:"vc23"},audio:"ac00","default":"vc00"},ad:{preroll:"va11",midroll:"va12",postroll:"va13",live:"va21",audio:"aa00","default":"va00"}},t=function(){function n(n,t){console.log("this",this),this.ad(t[o.ad]),this.duration(t[o.duration]),this.index(n),this.id(t[o.id]),this.name(t[o.name]),this.publisher(t[o.publisher]),this.show(t[o.show]),this.url(t[o.url])}return n.ad=function(n){return n&&(this.ns_st_ad=n),this.ns_st_ad},n.duration=function(n,t){return n&&(this.ns_st_cl=t?1e3*n:void 0),this.ns_st_cl},n.index=function(n){return n&&(this.ns_st_cn=n),this.ns_st_cn},n.id=function(n){return n&&(this.ns_st_ci=n),this.ns_st_ci},n.name=function(n){return n&&(this.ns_st_ep=n),this.ns_st_ep},n.publisher=function(n){return n&&(this.ns_st_pu=n),this.ns_st_pu},n.show=function(n){return n&&(this.ns_st_pr=n),this.ns_st_pr},n.url=function(n){return n&&(this.ns_st_cu=n),this.ns_st_cu},n}(),e=function(n,r,e){var a,c,h,l,d,f,_,m;if(!u(n))throw new Error("The first argument should be your comScore ID");if(!s(r))throw new Error("The second argument should be an array (can be empty)");return h={BUFFER:ns_.StreamSense.PlayerEvents.BUFFER,END:ns_.StreamSense.PlayerEvents.END,PLAY:ns_.StreamSense.PlayerEvents.PLAY,PAUSE:ns_.StreamSense.PlayerEvents.PAUSE},f=this,m=new ns_.StreamSense({},"http://b.scorecardresearch.com/p?c1=2&c2="+n),c=null,a=[],e&&(o=i({},o,e)),l=function(){return a=d(r)},d=function(n){return n.map(function(n,r){return new t(r,n)})},_=function(n){var t,r,e;for(r=0,e=n.length;e>r;r++)if(t=n[r],"Clip"!=typeof t)throw new Error("expected an array of clips");return n.length>0&&m.setPlaylist(n),this},f.on("play",function(){return m.notify(h.PLAY,{},1e3*f.currentTime())}),f.on("loadeddata",function(){return c=a[0],c.url(f.currentSrc()),m.setClip(c)}),f.on("ended",function(){return m.notify(h.END,{},c.duration())}),f.on("paused",function(){return console.log("paused",f.currentTime()),m.notify(h.PAUSE,{},1e3*f.currentTime())}),f.comscore={getClips:function(){return _(d(r))}},l()},n.plugin("comscore",e)}(window.videojs)}).call(this);