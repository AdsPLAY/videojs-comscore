/*! videojs-comscore - v0.1.0 - 2014-03-05
* Copyright (c) 2014 Brandon Aaskov; Licensed  */
!function(a){function b(a){var b,c,d;for(c=1;c<arguments.length;c++){b=arguments[c];for(d in b)b.hasOwnProperty(d)&&(a[d]=b[d])}return a}var c={ad:"ad",duration:"duration",index:"index",id:"id",name:"name",publisher:"publisher",show:"show",url:"url"},d=function(){function a(a,b){this.ad(b[c.ad]),this.duration(b[c.duration]),this.index(a),this.id(b[c.id]),this.name(b[c.name]),this.publisher(b[c.publisher]),this.show(b[c.show]),this.url(b[c.url])}return a.name="Clip",a.prototype.ad=function(a){return a&&(this.ns_st_ad=a),this.ns_st_ad},a.prototype.duration=function(a,b){return a&&(this.ns_st_cl=b?1e3*a:a),this.ns_st_cl},a.prototype.index=function(a){return a&&(this.ns_st_cn=a),this.ns_st_cn},a.prototype.id=function(a){return a&&(this.ns_st_ci=a),this.ns_st_ci},a.prototype.name=function(a){return a&&(this.ns_st_ep=a),this.ns_st_ep},a.prototype.publisher=function(a){return a&&(this.ns_st_pu=a),this.ns_st_pu},a.prototype.show=function(a){return a&&(this.ns_st_pr=a),this.ns_st_pr},a.prototype.url=function(a){return a&&(this.ns_st_cu=a),this.ns_st_cu},a}(),e=function(a,e,f){var g={BUFFER:ns_.StreamSense.PlayerEvents.BUFFER,END:ns_.StreamSense.PlayerEvents.END,PLAY:ns_.StreamSense.PlayerEvents.PLAY,PAUSE:ns_.StreamSense.PlayerEvents.PAUSE},h=this,i=new ns_.StreamSense({},"http://b.scorecardresearch.com/p?c1=2&c2="+a),j=null;f&&(c=b({},c,f));var k=e.map(function(a,b){return new d(b,a)});k.length>0&&i.setPlaylist(k),h.on("play",function(){i.notify(g.PLAY,{},1e3*h.currentTime())}),h.on("loadeddata",function(){j=k[0],j.url(h.currentSrc()),i.setClip(j)}),h.on("ended",function(){i.notify(g.END,{},1e3*h.currentTime())}),h.on("paused",function(){i.notify(g.PAUSE,{},1e3*h.currentTime())}),h.comscore={}};a.plugin("comscore",e)}(window.videojs);