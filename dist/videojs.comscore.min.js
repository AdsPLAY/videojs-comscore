(function(){!function(t){var n,r,e,i,o,u,s;return o=function(t){return"[object Array]"===toString.call(t)},u=function(t){return 0/0!==parseInt(t,10)},i=function(t){var n,r,e;for(n=void 0,r=void 0,e=void 0,r=1;r<arguments_.length;){n=arguments_[r];for(e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);r++}return t},s={ad:"ad",premium:"premium",ugc:"ugc",live:"live",duration:"duration",index:"index",id:"id",name:"name",publisher:"publisher",show:"show",url:"url",classification:"classificaiton"},r={video:{shortform:{premium:"vc11",ugc:"vc21"},longform:{premium:"vc12",ugc:"vc22"},live:{premium:"vc13",ugc:"vc23"},audio:"ac00","default":"vc00"},ad:{preroll:"va11",midroll:"va12",postroll:"va13",live:"va21",audio:"aa00","default":"va00"}},n=function(){function t(t,n){this.ad(n[s.ad]),this.premium(n[s.premium]),this.ugc(n[s.ugc]),this.duration(n[s.duration]),this.index(t),this.id(n[s.id]),this.name(n[s.name]),this.publisher(n[s.publisher]),this.show(n[s.show]),this.url(n[s.url]),this.classification(n[s.url])}return t.prototype.ns_st_ad=null,t.prototype.ns_st_cl=null,t.prototype.ns_st_cn=null,t.prototype.ns_st_ci=null,t.prototype.ns_st_ep=null,t.prototype.ns_st_pu=null,t.prototype.ns_st_pr=null,t.prototype.ns_st_cu=null,t.prototype.ad=function(t){return t&&(this.ns_st_ad=t),this.ns_st_ad},t.prototype.premium=function(t){return t&&(this.premium=t),this.premium},t.prototype.ugc=function(t){return t&&(this.premium=!t),this.premium},t.prototype.live=function(t){return t&&(this.live=t),this.live},t.prototype.duration=function(t,n){return n&&(t=1e3*t),t&&(this.ns_st_cl=Math.round(t)),this.ns_st_cl},t.prototype.index=function(t){return t&&(this.ns_st_cn=t),this.ns_st_cn},t.prototype.id=function(t){return t&&(this.ns_st_ci=t),this.ns_st_ci},t.prototype.name=function(t){return t&&(this.ns_st_ep=t),this.ns_st_ep},t.prototype.publisher=function(t){return t&&(this.ns_st_pu=t),this.ns_st_pu},t.prototype.show=function(t){return t&&(this.ns_st_pr=t),this.ns_st_pr},t.prototype.url=function(t){return t&&(this.ns_st_cu=t),this.ns_st_cu},t.prototype.classification=function(){var t;return t=function(){return this.duration()/1e3>=10},this.ad?r.ad.preroll:this.live()?this.premium()?r.video.live.premium:r.video.live.ugc:t()?this.premium()?r.video.longform.premium:r.video.longform.ugc:this.premium()?r.video.shortform.premium:r.video.shortform.ugc},t}(),e=function(t,r,e){var c,p,a,l,h,m,d,f,_,v,y,g,S,E,w,P,b,A,F;if(!u(t))throw new Error("The first argument should be your comScore ID");if(!o(r))throw new Error("The second argument should be an array (can be empty)");return m={BUFFER:ns_.StreamSense.PlayerEvents.BUFFER,END:ns_.StreamSense.PlayerEvents.END,PLAY:ns_.StreamSense.PlayerEvents.PLAY,PAUSE:ns_.StreamSense.PlayerEvents.PAUSE},E=this,A=new ns_.StreamSense({},"http://b.scorecardresearch.com/p?c1=2&c2="+t),a=null,p=[],e&&(s=i({},s,e)),l=0,b=!1,P=0,v=function(){return p=y(r),p.length>0?A.setPlaylist(p):void 0},y=function(t){return t.map(function(t,r){return new n(r,t)})},d=function(t){var n,r,e;for(r=0,e=p.length;e>r;r++)if(n=p[r],t===n.url())return n},f=function(){return d(E.currentSrc())},_=function(){return Math.round(1e3*E.currentTime())},F=function(){return a=f(),a.url(E.currentSrc()),a.duration(E.duration(),!0),A.setClip(a)},c=function(){return!b&&l===_()&&P++>3?(b=!0,P=0,A.notify(m.BUFFER,{},l),!0):b&&l!==_()?(A.notify(m.PLAY,{},l),b=!1,P=0,!1):!1},S=function(){return A.notify(m.PLAY,{},l)},g=function(){return A.notify(m.PAUSE,{},l)},h=function(){return A.notify(m.END,{},a.duration())},w=function(){return c(),l=_()},E.on("durationchange",function(){return F()}),E.on("play",S),E.on("ended",h),E.on("pause",g),E.on("progress",w),E.comscore={play:S,pause:g,end:h,progress:w,getClips:function(){return p},getCurrentClip:f,updateLoadedClip:F},v()},t.plugin("comscore",e)}(window.videojs)}).call(this);