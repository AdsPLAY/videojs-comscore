(function(){!function(n){var t,r,e,o,u,i,s;return u=function(n){return"[object Array]"===toString.call(n)},i=function(n){return 0/0!==parseInt(n,10)},o=function(n){var t,r,e;for(t=void 0,r=void 0,e=void 0,r=1;r<arguments_.length;){t=arguments_[r];for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);r++}return n},s={ad:"ad",duration:"duration",index:"index",id:"id",name:"name",publisher:"publisher",show:"show",url:"url"},r={video:{shortform:{premium:"vc11",ugc:"vc21"},longform:{premium:"vc12",ugc:"vc22"},live:{premium:"vc13",ugc:"vc23"},audio:"ac00","default":"vc00"},ad:{preroll:"va11",midroll:"va12",postroll:"va13",live:"va21",audio:"aa00","default":"va00"}},t=function(){function n(n,t){this.ad(t[s.ad]),this.duration(t[s.duration]),this.index(n),this.id(t[s.id]),this.name(t[s.name]),this.publisher(t[s.publisher]),this.show(t[s.show]),this.url(t[s.url])}var t;return n.prototype.ns_st_ad=null,n.prototype.ns_st_cl=null,n.prototype.ns_st_cn=null,n.prototype.ns_st_ci=null,n.prototype.ns_st_ep=null,n.prototype.ns_st_pu=null,n.prototype.ns_st_pr=null,n.prototype.ns_st_cu=null,t=function(n,t){return t?1e3*n:n},n.prototype.ad=function(n){return n?this.ns_st_ad=n:void 0},n.prototype.duration=function(n,t){var r;return n&&(n=null!=(r=t)?r:n*{1e3:n}),this.ns_st_cl=Math.round(n)},n.prototype.index=function(n){return n&&(this.ns_st_cn=n),this.ns_st_cn},n.prototype.id=function(n){return n&&(this.ns_st_ci=n),this.ns_st_ci},n.prototype.name=function(n){return n&&(this.ns_st_ep=n),this.ns_st_ep},n.prototype.publisher=function(n){return n&&(this.ns_st_pu=n),this.ns_st_pu},n.prototype.show=function(n){return n&&(this.ns_st_pr=n),this.ns_st_pr},n.prototype.url=function(n){return n&&(this.ns_st_cu=n),this.ns_st_cu},n}(),e=function(n,r,e){var c,a,l,p,d,_,h,f,v,y,m,S,g,w;if(!i(n))throw new Error("The first argument should be your comScore ID");if(!u(r))throw new Error("The second argument should be an array (can be empty)");return p={BUFFER:ns_.StreamSense.PlayerEvents.BUFFER,END:ns_.StreamSense.PlayerEvents.END,PLAY:ns_.StreamSense.PlayerEvents.PLAY,PAUSE:ns_.StreamSense.PlayerEvents.PAUSE},S=this,g=new ns_.StreamSense({},"http://b.scorecardresearch.com/p?c1=2&c2="+n),a=null,c=[],e&&(s=o({},s,e)),f=function(){return c=v(r),c.length>0?g.setPlaylist(c):void 0},v=function(n){return n.map(function(n,r){return new t(r,n)})},d=function(n){var t,r,e;for(r=0,e=c.length;e>r;r++)if(t=c[r],n===t.url())return t},_=function(){return d(S.currentSrc())},h=function(){return Math.round(1e3*S.currentTime())},w=function(){return a=_(),a.url(S.currentSrc()),a.duration(S.duration()),g.setClip(a)},m=function(){return g.notify(p.PLAY,{},h())},y=function(){return g.notify(p.PAUSE,{},h())},l=function(){return g.notify(p.END,{},a.duration())},S.on("durationchange",function(){return w()}),S.on("play",function(){return m()}),S.on("ended",function(){return l()}),S.on("pause",function(){return y()}),S.comscore={getClips:function(){return c},getCurrentClip:_,play:m,pause:y,end:l,updateLoadedClip:w},f()},n.plugin("comscore",e)}(window.videojs)}).call(this);